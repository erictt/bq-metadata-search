{% extends "base.html" %}

{% block title %}BigQuery Metadata Search{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1 class="metadata-header">BigQuery Metadata Search</h1>
        
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Search Metadata</h5>
                    </div>
                    <div class="card-body">
                        <p>Search for tables, fields, or descriptions across all BigQuery projects.</p>
                        <a href="/search" class="btn btn-primary">Search</a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Advanced Search</h5>
                    </div>
                    <div class="card-body">
                        <p>Use advanced filters to find specific metadata components.</p>
                        <a href="/advanced-search" class="btn btn-primary">Advanced Search</a>
                    </div>
                </div>
            </div>
        </div>
        
        <h2>Available Projects</h2>
        
        {% if projects %}
            <div class="list-group">
                {% for project in projects %}
                    <a href="/project/{{ project }}" class="list-group-item list-group-item-action">
                        <h5 class="mb-1">{{ project }}</h5>
                    </a>
                {% endfor %}
            </div>
        {% else %}
            <div class="alert alert-info">
                No projects available. Use the extractor to import metadata from BigQuery.
                <pre class="mt-3"><code>python -m app.extractor.run --project=your-project-id</code></pre>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
